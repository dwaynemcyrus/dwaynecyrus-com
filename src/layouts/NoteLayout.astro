---
import BaseLayout from './BaseLayout.astro';

import TagList from '../components/TagList.astro';

import SourceLinks from '../components/links/SourceLinks.astro';
import ChainLinks from '../components/links/ChainLinks.astro';
// import ResourceLinks from '../components/links/ResourceLinks.astro';
import Backlinks from '../components/links/Backlinks.astro';

import type { ContentLink } from '../lib/graph';

interface Props {
  slug: string;          // kept for context / data attrs if needed
  title: string;
  links: ContentLink[];  // already prepared by the page
  tags?: string[];       // optional, passed from the page
}

const { slug, title, links, tags } = Astro.props;
---

<BaseLayout pageTitle={title}>
  <article>
    <h1>{title}</h1>
    <TagList tags={tags} />
    <slot />
  </article>

  <aside>
    <SourceLinks links={links} />
    <ChainLinks links={links} />
    <!-- <ResourceLinks links={links} /> -->
    <Backlinks links={links} />
  </aside>
</BaseLayout>
